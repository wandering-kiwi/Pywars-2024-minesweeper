<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Button Grid</title>
</head>
<body onload="createGrid(num=Number('{{s}}'))">
  <label for="grid-size">Enter grid size:</label>
  <input type="number" id="grid-size" min="1" value="{{s}}">
  <button onclick="createGrid()">Create Grid</button>
  <div id="grid-container"></div>
  <script>
    async function createGrid(num=document.getElementById('grid-size').value) {
      if (true) {
        const gridSize = parseInt(num);
        const gridContainer = document.getElementById('grid-container');
        gridContainer.innerHTML = '';
        const buttonSize = Math.min(window.innerWidth, window.innerHeight) / gridSize / 1.1;
        for (let i = 0; i < gridSize; i++) {
          for (let j = 0; j < gridSize; j++) {
            const button = document.createElement('button');
            button.textContent = '';
            button.style.height = buttonSize + "px";
            button.style.width = buttonSize + "px";
            
            if (j==Number('{{x}}') && i==Number('{{y}}')) {
              button.style.backgroundColor = "lightgreen";
            }
            button.addEventListener('click', function() {
              const newUrl = "http://192.168.1.101:5000/"+ gridSize + '/' + String(j) + '/' + String(i);// replace 0s with ur ip adress
              window.location.replace(newUrl);
          });
          gridContainer.appendChild(button);
        }
        const lineBreak = document.createElement('br');
        gridContainer.appendChild(lineBreak);
      }
    }
  }

  </script>
</body>
</html>